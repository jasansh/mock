<!DOCTYPE html>
<html lang="en">
<link rel="stylesheet"
  href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,400italic">


<script>
window.addEventListener( "load", function () {

	function urlencodeFormData(fd){
    var s = '';
    function encode(s){ return encodeURIComponent(s).replace(/%20/g,'+'); }
    for(var pair of fd.entries()){
        if(typeof pair[1]=='string'){
            s += (s?'&':'') + encode(pair[0])+'='+encode(pair[1]);
        }
    }
    return s;
	}

  function sendData() {

    // Bind the FormData object and the form element
    const FD = new FormData( form );    
		window.open(FD.get('destination') + FD.get('token'), '_self');

  }
 
  // Access the form element...
  const form = document.getElementById( "test-form" );

  // ...and take over its submit event.
  form.addEventListener( "submit", function ( event ) {
    event.preventDefault();

    sendData();
  } );
} );
</script>
<body>
  <div class="container">
    <p>
      <b>Login to VAM with OAuth Token</b>
    </p>
    <p>
      Drop the token (created with another tool) into token text box and verify the destination (can be changed).
    </p>
    <p>
      Click Login to VAM. This sends the token (appended to destination url) to destination url with http GET. 
    </p>
    <table cellspacing="0">
	    <form id="test-form">
	        <tr>
	          <td>token :</td>
	          <td><input name="token" required size=48 /></td>
	        </tr>
	        <tr>
	          <td>destination url :</td>
	          <td><input name="destination"
	            value="http://10.254.187.115:9081/vam-ui?token=" required size=48 />
	          </td>
	        </tr>
	      	<tr>
	      		<td></td>
	      		<td><button type="submit">Login To VAM</button></td>
	      	</tr>
	      <br>	      
	    </form>
    </table>
  </div>
</body>

</html>
